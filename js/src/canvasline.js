function Line(t){this.flag=t,this.a={},this.b={},"v"==t?(this.a.y=0,this.b.y=ch,this.a.x=randomIntFromInterval(0,ch),this.b.x=randomIntFromInterval(0,ch)):"h"==t&&(this.a.x=0,this.b.x=cw,this.a.y=randomIntFromInterval(0,cw),this.b.y=randomIntFromInterval(0,cw)),this.va=randomIntFromInterval(25,100)/150,this.vb=randomIntFromInterval(25,100)/150,this.draw=function(){ctx.strokeStyle="#eef2f3",ctx.beginPath(),ctx.moveTo(this.a.x,this.a.y),ctx.lineTo(this.b.x,this.b.y),ctx.stroke()},this.update=function(){"v"==this.flag?(this.a.x+=this.va,this.b.x+=this.vb):"h"==t&&(this.a.y+=this.va,this.b.y+=this.vb),this.edges()},this.edges=function(){"v"==this.flag?((this.a.x<0||this.a.x>cw)&&(this.va*=-1),(this.b.x<0||this.b.x>cw)&&(this.vb*=-1)):"h"==t&&((this.a.y<0||this.a.y>ch)&&(this.va*=-1),(this.b.y<0||this.b.y>ch)&&(this.vb*=-1))}}function Draw(){requestId=window.requestAnimationFrame(Draw),ctx.clearRect(0,0,cw,ch);for(t=0;t<linesRy.length;t++)(n=linesRy[t]).draw(),n.update();for(var t=0;t<linesRy.length;t++)for(var n=linesRy[t],i=t+1;i<linesRy.length;i++)Intersect2lines(n,linesRy[i])}function Init(){linesRy.length=0;for(var t=0;t<linesNum;t++){var n=new Line(t%2==0?"h":"v");linesRy.push(n)}requestId&&(window.cancelAnimationFrame(requestId),requestId=null),cw=canvas.width=window.innerWidth,cx=cw/2,ch=canvas.height=window.innerHeight,cy=ch/2,Draw()}function Intersect2lines(t,n){var i=t.a,e=t.b,a=n.a,s=n.b,h=(s.y-a.y)*(e.x-i.x)-(s.x-a.x)*(e.y-i.y),r=((s.x-a.x)*(i.y-a.y)-(s.y-a.y)*(i.x-a.x))/h,c=((e.x-i.x)*(i.y-a.y)-(e.y-i.y)*(i.x-a.x))/h,o=i.x+r*(e.x-i.x),l=i.y+r*(e.y-i.y);r>0&&c>0&&markPoint({x:o,y:l})}function markPoint(t){ctx.beginPath(),ctx.arc(t.x,t.y,2,0,2*Math.PI),ctx.fillStyle="#8e9eab",ctx.fill()}function randomIntFromInterval(t,n){return~~(Math.random()*(n-t+1)+t)}var _hmt=_hmt||[];!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?069980c69f8860ee0465cd6d4a965a15";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}();var cavs=document.getElementById("canvas"),ctx=canvas.getContext("2d"),cw=canvas.width=window.innerWidth,cx=cw/2,ch=canvas.height=window.innerHeight,cy=ch/2;ctx.fillStyle="#ECE9E6";for(var linesNum=16,linesRy=[],requestId=null,i=0;i<linesNum;i++){var flag=i%2==0?"h":"v",l=new Line(flag);linesRy.push(l)}setTimeout(function(){Init(),addEventListener("resize",Init,!1)},15);